import HistoryRouterHandler, { RequestParams, RouterHandlerParam } from '../default-router-handler';

export default class HashRouterHandler extends HistoryRouterHandler {
  constructor(callbackRouter: (param: RequestParams) => void) {
    const handlerParams: RouterHandlerParam = {
      nameEvent: 'hashchange',
      locationField: 'hash',
      callback: callbackRouter,
    };
    super(handlerParams);

    window.addEventListener(handlerParams.nameEvent, this.navigate.bind(this));
  }
}
